<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>MindAR — Sneakers AR Ads</title>
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/mind-ar@1.2.5/dist/mindar-image-aframe.prod.js"></script>
    <style>
      body { margin:0; overflow:hidden; background:#000; font-family:Arial, sans-serif; }
      #note, #markerStatus {
        position:absolute; z-index:10; padding:10px 15px; border-radius:10px; color:white; font-weight:bold; font-size:14px;
      }
      #note { left:10px; top:10px; background:rgba(0,0,0,0.7); }
      #markerStatus { right:10px; top:10px; background:rgba(200,0,0,0.8); transition:all 0.3s; }
      #markerStatus.found { background:rgba(0,180,0,0.9); }
      #controls {
        position:absolute; bottom:20px; left:50%; transform:translateX(-50%); z-index:10;
        background:rgba(0,0,0,0.85); padding:18px 22px; border-radius:15px; display:flex; gap:16px; flex-wrap:wrap; justify-content:center;
      }
      .video-btn {
        width:110px; height:52px; background:#222; color:white; border:3px solid #555;
        border-radius:10px; font-weight:bold; cursor:pointer; font-size:15px; transition:all 0.3s;
      }
      .video-btn:hover { background:#333; border-color:#888; }
      .video-btn.active { border:4px solid #4CAF50; background:#111; box-shadow:0 0 25px rgba(76,175,80,0.8); }
      .info-btn {
        width:38px; height:38px; background:rgba(255,255,255,0.3); border:2px solid white;
        border-radius:50%; cursor:pointer; font-size:22px; display:flex; align-items:center; justify-content:center;
      }
      #descOverlay {
        position:absolute; inset:0; background:rgba(0,0,0,0.95); color:white; z-index:100;
        display:none; flex-direction:column; justify-content:center; align-items:center; padding:20px; text-align:center;
      }
      #descOverlay.active { display:flex; }
      #descOverlay h2 { margin:0 0 15px 0; font-size:28px; color:#4CAF50; }
      #descOverlay p { font-size:18px; line-height:1.6; max-width:90%; margin:15px 0; }
      #closeDesc { margin-top:30px; padding:14px 40px; background:#4CAF50; border:none; border-radius:10px;
        color:white; font-size:18px; font-weight:bold; cursor:pointer; }
    </style>
  </head>
  <body>
    <div id="note">Point camera at the marker</div>
    <div id="markerStatus">Target Not Found</div>
    <div id="controls">
      <button class="video-btn active" data-video="#video1">Casual Ad</button>
      <button class="info-btn" data-desc="casual">i</button>
    </div>
    <div id="descOverlay">
      <h2 id="descTitle">Casual Sneakers Video</h2>
      <p id="descText">A dynamic video showcasing lightweight and breathable sneakers designed for all-day comfort. Perfect for casual outings.</p>
      <button id="closeDesc">Close</button>
    </div>
    <a-scene
      mindar-image="imageTargetSrc: https://raw.githubusercontent.com/Gitboi46/Ar-business-card/main/targets%20(1)%20(1).mind; filterMinCF:0.0005; filterBeta:1000;"
      color-space="sRGB" renderer="colorManagement: true" vr-mode-ui="enabled: false"
      embedded style="width:100%; height:100vh;">
      <a-assets timeout="60000">
        <!-- Reliable working sneaker 3D model from official MindAR example -->
        <a-asset-item id="sneaker-model" src="https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.5/examples/image-tracking/assets/card-example/softmind/scene.gltf"></a-asset-item>
      </a-assets>
      <a-camera position="0 0 0" look-controls="enabled: false"></a-camera>
      <!-- Main AR content attached to the marker -->
      <a-entity mindar-image-target="targetIndex: 0">
        <!-- 3D sneaker model now displays correctly -->
        <a-entity gltf-model="#sneaker-model" position="0 0 0" rotation="-90 0 0" scale="0.5 0.5 0.5" animation-mixer></a-entity>
      </a-entity>
      <a-entity light="type: ambient; intensity: 1"></a-entity>
      <a-entity light="type: directional; intensity: 1.5" position="1 2 1"></a-entity>
    </a-scene>
<script>
  const status = document.getElementById('markerStatus');
  const overlay = document.getElementById('descOverlay');
  const titleEl = document.getElementById('descTitle');
  const textEl = document.getElementById('descText');
  const descriptions = {
    casual: { title: "Casual Sneakers Video", text: "A dynamic video showcasing lightweight and breathable sneakers designed for all-day comfort. Perfect for casual outings, walking, or daily wear." },
  };
  // Info buttons (kept unchanged)
  document.querySelectorAll('.info-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      const desc = descriptions[btn.dataset.desc];
      if (desc) {
        titleEl.textContent = desc.title;
        textEl.textContent = desc.text;
        overlay.classList.add('active');
      }
    });
  });
  document.getElementById('closeDesc').addEventListener('click', () => {
    overlay.classList.remove('active');
  });
  // Marker tracking events
  const sceneEl = document.querySelector('a-scene');
  sceneEl.addEventListener('targetFound', () => {
    status.textContent = "Target Found – Model Loaded";
    status.classList.add('found');
  });
  sceneEl.addEventListener('targetLost', () => {
    status.textContent = "Target Lost";
    status.classList.remove('found');
  });
</script>
  </body>
</html>
